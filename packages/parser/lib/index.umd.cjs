(function(a,g){typeof exports=="object"&&typeof module<"u"?g(exports):typeof define=="function"&&define.amd?define(["exports"],g):(a=typeof globalThis<"u"?globalThis:a||self,g(a.validator={}))})(this,function(a){"use strict";function g(t){return t.trim().split(/\r?\n/).slice(4).map(r=>[...r].map(n=>n==="@"||n==="T"))}class gt extends Error{}var Y=typeof global=="object"&&global&&global.Object===Object&&global,wt=typeof self=="object"&&self&&self.Object===Object&&self,u=Y||wt||Function("return this")(),_=u.Symbol,H=Object.prototype,jt=H.hasOwnProperty,mt=H.toString,w=_?_.toStringTag:void 0;function Ot(t){var e=jt.call(t,w),r=t[w];try{t[w]=void 0;var n=!0}catch{}var o=mt.call(t);return n&&(e?t[w]=r:delete t[w]),o}var xt=Object.prototype,At=xt.toString;function zt(t){return At.call(t)}var Pt="[object Null]",St="[object Undefined]",J=_?_.toStringTag:void 0;function A(t){return t==null?t===void 0?St:Pt:J&&J in Object(t)?Ot(t):zt(t)}function z(t){return t!=null&&typeof t=="object"}function Tt(t,e){for(var r=-1,n=t==null?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}var Ct=Array.isArray,Q=_?_.prototype:void 0;Q&&Q.toString;function k(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function X(t){return t}var Et="[object AsyncFunction]",Mt="[object Function]",$t="[object GeneratorFunction]",kt="[object Proxy]";function Z(t){if(!k(t))return!1;var e=A(t);return e==Mt||e==$t||e==Et||e==kt}var F=u["__core-js_shared__"],K=function(){var t=/[^.]+$/.exec(F&&F.keys&&F.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Ft(t){return!!K&&K in t}var It=Function.prototype,Lt=It.toString;function p(t){if(t!=null){try{return Lt.call(t)}catch{}try{return t+""}catch{}}return""}var Rt=/[\\^$.*+?()[\]{}|]/g,Wt=/^\[object .+?Constructor\]$/,Dt=Function.prototype,Gt=Object.prototype,Nt=Dt.toString,Vt=Gt.hasOwnProperty,qt=RegExp("^"+Nt.call(Vt).replace(Rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Bt(t){if(!k(t)||Ft(t))return!1;var e=Z(t)?qt:Wt;return e.test(p(t))}function Ut(t,e){return t==null?void 0:t[e]}function h(t,e){var r=Ut(t,e);return Bt(r)?r:void 0}var I=h(u,"WeakMap"),tt=Object.create,et=function(){function t(){}return function(e){if(!k(e))return{};if(tt)return tt(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function Yt(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function L(){}var Ht=4294967295;function j(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ht,this.__views__=[]}j.prototype=et(L.prototype),j.prototype.constructor=j;function d(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}d.prototype=et(L.prototype),d.prototype.constructor=d;function Jt(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function Qt(t){if(t instanceof j)return t.clone();var e=new d(t.__wrapped__,t.__chain__);return e.__actions__=Jt(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Xt=Object.prototype,Zt=Xt.hasOwnProperty;function R(t){if(z(t)&&!Ct(t)&&!(t instanceof j)){if(t instanceof d)return t;if(Zt.call(t,"__wrapped__"))return Qt(t)}return new d(t)}R.prototype=L.prototype,R.prototype.constructor=R;var Kt=800,te=16,ee=Date.now;function re(t){var e=0,r=0;return function(){var n=ee(),o=te-(n-r);if(r=n,o>0){if(++e>=Kt)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function ne(t){return function(){return t}}var rt=function(){try{var t=h(Object,"defineProperty");return t({},"",{}),t}catch{}}(),oe=rt?function(t,e){return rt(t,"toString",{configurable:!0,enumerable:!1,value:ne(e),writable:!0})}:X,ie=re(oe);function ae(t,e){return t===e||t!==t&&e!==e}var nt=Math.max;function se(t,e,r){return e=nt(e===void 0?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=nt(n.length-e,0),s=Array(i);++o<i;)s[o]=n[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=n[o];return c[e]=r(s),Yt(t,this,c)}}function ue(t,e){return ie(se(t,e,X),t+"")}var ce=9007199254740991;function _e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ce}function pe(t){return t!=null&&_e(t.length)&&!Z(t)}function he(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var le="[object Arguments]";function ot(t){return z(t)&&A(t)==le}var it=Object.prototype,fe=it.hasOwnProperty,de=it.propertyIsEnumerable;ot(function(){return arguments}());var at=typeof a=="object"&&a&&!a.nodeType&&a,st=at&&typeof module=="object"&&module&&!module.nodeType&&module,ve=st&&st.exports===at,ut=ve?u.Buffer:void 0;ut&&ut.isBuffer;var ct=typeof a=="object"&&a&&!a.nodeType&&a,m=ct&&typeof module=="object"&&module&&!module.nodeType&&module,ye=m&&m.exports===ct,W=ye&&Y.process,_t=function(){try{var t=m&&m.require&&m.require("util").types;return t||W&&W.binding&&W.binding("util")}catch{}}();_t&&_t.isTypedArray;var O=h(Object,"create");function be(){this.__data__=O?O(null):{},this.size=0}function ge(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var we="__lodash_hash_undefined__",je=Object.prototype,me=je.hasOwnProperty;function Oe(t){var e=this.__data__;if(O){var r=e[t];return r===we?void 0:r}return me.call(e,t)?e[t]:void 0}var xe=Object.prototype,Ae=xe.hasOwnProperty;function ze(t){var e=this.__data__;return O?e[t]!==void 0:Ae.call(e,t)}var Pe="__lodash_hash_undefined__";function Se(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=O&&e===void 0?Pe:e,this}function l(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}l.prototype.clear=be,l.prototype.delete=ge,l.prototype.get=Oe,l.prototype.has=ze,l.prototype.set=Se;function Te(){this.__data__=[],this.size=0}function P(t,e){for(var r=t.length;r--;)if(ae(t[r][0],e))return r;return-1}var Ce=Array.prototype,Ee=Ce.splice;function Me(t){var e=this.__data__,r=P(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Ee.call(e,r,1),--this.size,!0}function $e(t){var e=this.__data__,r=P(e,t);return r<0?void 0:e[r][1]}function ke(t){return P(this.__data__,t)>-1}function Fe(t,e){var r=this.__data__,n=P(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function v(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}v.prototype.clear=Te,v.prototype.delete=Me,v.prototype.get=$e,v.prototype.has=ke,v.prototype.set=Fe;var S=h(u,"Map");function Ie(){this.size=0,this.__data__={hash:new l,map:new(S||v),string:new l}}function Le(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function T(t,e){var r=t.__data__;return Le(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Re(t){var e=T(this,t).delete(t);return this.size-=e?1:0,e}function We(t){return T(this,t).get(t)}function De(t){return T(this,t).has(t)}function Ge(t,e){var r=T(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function f(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}f.prototype.clear=Ie,f.prototype.delete=Re,f.prototype.get=We,f.prototype.has=De,f.prototype.set=Ge;var Ne="Expected a function";function D(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Ne);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var s=t.apply(this,n);return r.cache=i.set(o,s)||i,s};return r.cache=new(D.Cache||f),r}D.Cache=f;var Ve=500;function qe(t){var e=D(t,function(n){return r.size===Ve&&r.clear(),n}),r=e.cache;return e}var Be=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ue=/\\(\\)?/g;qe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Be,function(r,n,o,i){e.push(o?i.replace(Ue,"$1"):n||r)}),e});function Ye(t,e){for(var r=-1,n=t==null?0:t.length,o=0,i=[];++r<n;){var s=t[r];e(s,r,t)&&(i[o++]=s)}return i}var G=h(u,"DataView"),N=h(u,"Promise"),V=h(u,"Set"),pt="[object Map]",He="[object Object]",ht="[object Promise]",lt="[object Set]",ft="[object WeakMap]",dt="[object DataView]",Je=p(G),Qe=p(S),Xe=p(N),Ze=p(V),Ke=p(I),y=A;(G&&y(new G(new ArrayBuffer(1)))!=dt||S&&y(new S)!=pt||N&&y(N.resolve())!=ht||V&&y(new V)!=lt||I&&y(new I)!=ft)&&(y=function(t){var e=A(t),r=e==He?t.constructor:void 0,n=r?p(r):"";if(n)switch(n){case Je:return dt;case Qe:return pt;case Xe:return ht;case Ze:return lt;case Ke:return ft}return e}),u.Uint8Array;var vt=_?_.prototype:void 0;vt&&vt.valueOf;function tr(t){return function(e){return e==null?void 0:e[t]}}function er(t){return z(t)&&pe(t)}var rr=Math.max;function nr(t){if(!(t&&t.length))return[];var e=0;return t=Ye(t,function(r){if(er(r))return e=rr(r.length,e),!0}),he(e,function(r){return Tt(t,tr(r))})}ue(nr);class C{constructor(){this.next,this.prev,this.list}append(e){const r=this.list;if(!e||!e.append||!e.prepend||!e.detach)throw new Error("An argument without append, prepend, or detach methods was given to `Item#append`.");return!r||this===e?!1:(e.detach(),this.next&&(e.next=this.next,this.next.prev=e),e.prev=this,e.list=r,this.next=e,(this===r.tail||!r.tail)&&(r.tail=e),r.size++,e)}prepend(e){const r=this.list;if(!e||!e.append||!e.prepend||!e.detach)throw new Error("An argument without append, prepend, or detach methods was given to `Item#prepend`.");return!r||this===e?!1:(e.detach(),this.prev&&(e.prev=this.prev,this.prev.next=e),e.next=this,e.list=r,this.prev=e,this===r.head&&(r.head=e),r.tail||(r.tail=this),r.size++,e)}detach(){const e=this.list;return e?(e.tail===this&&(e.tail=this.prev),e.head===this&&(e.head=this.next),e.tail===e.head&&(e.tail=null),this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=null,this.next=null,this.list=null,e.size--,this):this}}C.prototype.next=null,C.prototype.prev=null,C.prototype.list=null;class or extends C{constructor(e,r,n){super(),this.count=e,this.symbol=r,this.offset=n}}class ir{constructor(e){this.offset=0,this.chunks=e.matchAll(/(\d*)([a-z])/g)}read(){const{value:e,done:r}=this.chunks.next();if(r)throw new gt;{const[n,o,i]=e,s=o?+o:1,c=new or(s,i,this.offset);return this.offset+=s,c}}}function ar(t){return t!=null&&typeof t=="object"}var sr=Array.isArray;function ur(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var yt=Object.create,bt=function(){function t(){}return function(e){if(!ur(e))return{};if(yt)return yt(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function q(){}var cr=4294967295;function x(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=cr,this.__views__=[]}x.prototype=bt(q.prototype),x.prototype.constructor=x;function b(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}b.prototype=bt(q.prototype),b.prototype.constructor=b;function _r(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function pr(t){if(t instanceof x)return t.clone();var e=new b(t.__wrapped__,t.__chain__);return e.__actions__=_r(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var hr=Object.prototype,lr=hr.hasOwnProperty;function E(t){if(ar(t)&&!sr(t)&&!(t instanceof x)){if(t instanceof b)return t;if(lr.call(t,"__wrapped__"))return pr(t)}return new b(t)}E.prototype=q.prototype,E.prototype.constructor=E;function fr(t){var e=E(t);return e.__chain__=!0,e}function dr(t,e,r){const n=t.trim().split(/\r?\n/);n.shift();const[,,o,i]=n[0].split("	"),s=n.map(B=>{const[,,,,M,U]=B.split("	");return{x:+M,y:+U}}).slice(0,e),c=r.trim().split(`
`),vr=fr(c).map(B=>{let M=0;const U=new ir(B);for(;;)try{const $=U.read();M+=($==null?void 0:$.count)??1}catch{break}return M}).max().value();return{paths:c,sources:s,x:+o,y:+i,timespan:vr,agents:c}}a.parseMap=g,a.parseScenario=dr,Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})});
